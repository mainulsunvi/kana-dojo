# Achievement System Documentation

## Overview

The Achievement System is a comprehensive gamification feature that tracks user milestones, learning streaks, and consistency, rewarding users with badges, themes, and visual celebrations. The system includes **80+ achievements** across **12 categories**, providing players with diverse goals to work toward.

## Features

### ğŸ† Achievement Categories

The achievement system organizes achievements into the following categories:

| Category        | Description                                 | Achievement Count |
| --------------- | ------------------------------------------- | ----------------- |
| **Streak**      | Consecutive correct answer achievements     | 9                 |
| **Milestone**   | Total progress and point-based achievements | 10                |
| **Consistency** | Training session completion achievements    | 6                 |
| **Mastery**     | Accuracy-based achievements                 | 3                 |
| **Exploration** | Variety and day-tracking achievements       | 7                 |
| **Kana**        | Hiragana and Katakana specific achievements | 8                 |
| **Kanji**       | JLPT level-based Kanji achievements         | 10                |
| **Vocabulary**  | Vocabulary learning achievements            | 6                 |
| **Gauntlet**    | Gauntlet mode specific achievements         | 10                |
| **Blitz**       | Blitz mode specific achievements            | 8                 |
| **Speed**       | Time and response speed achievements        | 5                 |
| **Fun**         | Fun and secret achievements                 | 10                |

---

## Achievement List by Category

### ğŸ”¥ Streak Achievements

Achievements for maintaining consecutive correct answers.

| Achievement         | Rarity    | Points | Requirement                 |
| ------------------- | --------- | ------ | --------------------------- |
| **Streak Starter**  | Common    | 25     | Achieve a 5-answer streak   |
| **Hot Streak**      | Uncommon  | 50     | Achieve a 10-answer streak  |
| **Streak Legend**   | Rare      | 150    | Achieve a 25-answer streak  |
| **Unstoppable**     | Epic      | 300    | Achieve a 50-answer streak  |
| **Streak Warrior**  | Epic      | 400    | Achieve a 75-answer streak  |
| **Century Streak**  | Epic      | 600    | Achieve a 100-answer streak |
| **Streak Titan**    | Legendary | 800    | Achieve a 150-answer streak |
| **Streak Immortal** | Legendary | 1000   | Achieve a 200-answer streak |
| **Streak God**      | Legendary | 2000   | Achieve a 500-answer streak |

### ğŸ“š Milestone Achievements

Achievements for total progress and points earned.

| Achievement           | Rarity    | Points | Requirement                      |
| --------------------- | --------- | ------ | -------------------------------- |
| **First Steps**       | Common    | 10     | Get your first correct answer    |
| **Century Scholar**   | Uncommon  | 100    | Answer 100 questions correctly   |
| **Knowledge Seeker**  | Rare      | 250    | Answer 500 questions correctly   |
| **Master Scholar**    | Epic      | 500    | Answer 1000 questions correctly  |
| **Dedicated Scholar** | Rare      | 350    | Answer 2500 questions correctly  |
| **Legendary Master**  | Legendary | 1000   | Answer 5000 questions correctly  |
| **Grand Master**      | Legendary | 1500   | Answer 10000 questions correctly |
| **Legendary Scholar** | Legendary | 3000   | Answer 25000 questions correctly |
| **Point Collector**   | Uncommon  | 100    | Earn 1000 achievement points     |
| **Point Hoarder**     | Rare      | 250    | Earn 5000 achievement points     |
| **Point Master**      | Epic      | 500    | Earn 10000 achievement points    |

### ğŸ“– Consistency Achievements

Achievements for completing training sessions.

| Achievement            | Rarity    | Points | Requirement                     |
| ---------------------- | --------- | ------ | ------------------------------- |
| **Dedicated Learner**  | Common    | 75     | Complete 10 training sessions   |
| **Persistent Student** | Uncommon  | 200    | Complete 50 training sessions   |
| **Training Master**    | Rare      | 400    | Complete 100 training sessions  |
| **Session Veteran**    | Rare      | 400    | Complete 250 training sessions  |
| **Session Legend**     | Epic      | 700    | Complete 500 training sessions  |
| **Eternal Student**    | Legendary | 1200   | Complete 1000 training sessions |

### ğŸ¯ Mastery Achievements

Achievements for maintaining high accuracy.

| Achievement          | Rarity   | Points | Requirement                            |
| -------------------- | -------- | ------ | -------------------------------------- |
| **Precision Novice** | Uncommon | 100    | Maintain 80% accuracy over 50 answers  |
| **Accuracy Expert**  | Rare     | 250    | Maintain 90% accuracy over 100 answers |
| **Perfectionist**    | Epic     | 500    | Maintain 95% accuracy over 200 answers |

### ğŸŒ Exploration Achievements

Achievements for exploring different content and modes.

| Achievement             | Rarity    | Points | Requirement                                                        |
| ----------------------- | --------- | ------ | ------------------------------------------------------------------ |
| **Well-Rounded**        | Uncommon  | 100    | Train in all three dojos (Kana, Kanji, Vocabulary)                 |
| **Mode Explorer**       | Uncommon  | 100    | Try all four game modes (Pick, Reverse-Pick, Input, Reverse-Input) |
| **Triple Threat**       | Rare      | 200    | Complete sessions in Classic, Gauntlet, and Blitz modes            |
| **Consistent Learner**  | Common    | 75     | Train on 5 different days                                          |
| **Monthly Dedication**  | Rare      | 300    | Train on 30 different days                                         |
| **Century of Learning** | Epic      | 600    | Train on 100 different days                                        |
| **Year of Mastery**     | Legendary | 1500   | Train on 365 different days                                        |

---

## Content-Specific Achievements

### ã‚ Kana Achievements

Achievements specific to Hiragana and Katakana training.

| Achievement                | Icon | Rarity   | Points | Requirement                                                 |
| -------------------------- | ---- | -------- | ------ | ----------------------------------------------------------- |
| **Hiragana Apprentice**    | ã‚   | Common   | 50     | Answer 50 Hiragana questions correctly                      |
| **Hiragana Adept**         | ã„   | Uncommon | 150    | Answer 200 Hiragana questions correctly                     |
| **Hiragana Master**        | ã†   | Rare     | 300    | Answer 500 Hiragana questions correctly                     |
| **Hiragana Perfectionist** | ğŸ’¯   | Epic     | 500    | Achieve 100% accuracy on all basic Hiragana (46 characters) |
| **Katakana Apprentice**    | ã‚¢   | Common   | 50     | Answer 50 Katakana questions correctly                      |
| **Katakana Adept**         | ã‚¤   | Uncommon | 150    | Answer 200 Katakana questions correctly                     |
| **Katakana Master**        | ã‚¦   | Rare     | 300    | Answer 500 Katakana questions correctly                     |
| **Katakana Perfectionist** | ğŸ’¯   | Epic     | 500    | Achieve 100% accuracy on all basic Katakana (46 characters) |

### æ¼¢ Kanji Achievements

Achievements for Kanji learning organized by JLPT level.

#### Explorer Achievements (Correct Answers)

| Achievement     | Icon | Rarity    | Points | Requirement                             |
| --------------- | ---- | --------- | ------ | --------------------------------------- |
| **N5 Explorer** | ğŸ”°   | Common    | 75     | Answer 100 N5 Kanji questions correctly |
| **N4 Explorer** | ğŸ“—   | Uncommon  | 100    | Answer 100 N4 Kanji questions correctly |
| **N3 Explorer** | ğŸ“˜   | Rare      | 150    | Answer 100 N3 Kanji questions correctly |
| **N2 Explorer** | ğŸ“•   | Epic      | 200    | Answer 100 N2 Kanji questions correctly |
| **N1 Explorer** | ğŸ“™   | Legendary | 300    | Answer 100 N1 Kanji questions correctly |

#### Graduate Achievements (Mastery)

| Achievement     | Icon | Rarity    | Points | Requirement                           |
| --------------- | ---- | --------- | ------ | ------------------------------------- |
| **N5 Graduate** | ğŸ“   | Rare      | 400    | Master all N5 Kanji with 80% accuracy |
| **N4 Graduate** | ğŸ“   | Epic      | 500    | Master all N4 Kanji with 80% accuracy |
| **N3 Graduate** | ğŸ“   | Epic      | 600    | Master all N3 Kanji with 80% accuracy |
| **N2 Graduate** | ğŸ“   | Legendary | 800    | Master all N2 Kanji with 80% accuracy |
| **N1 Graduate** | ğŸ‘‘   | Legendary | 1000   | Master all N1 Kanji with 80% accuracy |

### ğŸ“ Vocabulary Achievements

Achievements for vocabulary learning.

| Achievement             | Icon | Rarity    | Points | Requirement                                          |
| ----------------------- | ---- | --------- | ------ | ---------------------------------------------------- |
| **Word Collector**      | ğŸ“   | Common    | 75     | Answer 100 vocabulary questions correctly            |
| **Lexicon Builder**     | ğŸ“–   | Uncommon  | 200    | Answer 500 vocabulary questions correctly            |
| **Dictionary Devotee**  | ğŸ“š   | Rare      | 400    | Answer 1000 vocabulary questions correctly           |
| **Vocabulary Virtuoso** | ğŸ­   | Epic      | 750    | Answer 2500 vocabulary questions correctly           |
| **Word Wizard**         | ğŸ§™   | Rare      | 350    | Master 50 unique vocabulary words with 90% accuracy  |
| **Linguistic Legend**   | ğŸ›ï¸   | Legendary | 800    | Master 200 unique vocabulary words with 90% accuracy |

---

## Game Mode Achievements

### âš”ï¸ Gauntlet Achievements

Achievements for Gauntlet mode accomplishments.

| Achievement                | Icon | Rarity    | Points | Requirement                                         |
| -------------------------- | ---- | --------- | ------ | --------------------------------------------------- |
| **Gauntlet Initiate**      | âš”ï¸   | Common    | 50     | Complete your first Gauntlet run                    |
| **Gauntlet Survivor**      | ğŸ›¡ï¸   | Uncommon  | 100    | Complete a Gauntlet run on Normal difficulty        |
| **Gauntlet Warrior**       | âš”ï¸   | Rare      | 250    | Complete a Gauntlet run on Hard difficulty          |
| **Gauntlet Legend**        | ğŸ’€   | Legendary | 500    | Complete a Gauntlet run on Instant Death difficulty |
| **Gauntlet Veteran**       | ğŸ–ï¸   | Uncommon  | 150    | Complete 10 Gauntlet runs                           |
| **Gauntlet Champion**      | ğŸ†   | Epic      | 400    | Complete 50 Gauntlet runs                           |
| **Flawless Victory**       | âœ¨   | Epic      | 500    | Complete a Gauntlet run with 100% accuracy          |
| **Untouchable**            | ğŸŒŸ   | Rare      | 300    | Complete a Gauntlet run without losing any lives    |
| **Phoenix Rising**         | ğŸ”¥   | Rare      | 200    | Regenerate 5 lives in a single Gauntlet run         |
| **Gauntlet Streak Master** | âš¡   | Epic      | 350    | Achieve a 50-streak in Gauntlet mode                |

### âš¡ Blitz Achievements

Achievements for Blitz mode performance.

| Achievement                  | Icon | Rarity   | Points | Requirement                                              |
| ---------------------------- | ---- | -------- | ------ | -------------------------------------------------------- |
| **Speed Demon Initiate**     | ğŸ’¨   | Common   | 50     | Complete your first Blitz session                        |
| **Blitz Warrior**            | âš¡   | Uncommon | 150    | Answer 50 questions correctly in a single Blitz session  |
| **Blitz Champion**           | ğŸ…   | Rare     | 300    | Answer 100 questions correctly in a single Blitz session |
| **Lightning Reflexes**       | âš¡   | Rare     | 200    | Achieve a 25-streak in Blitz mode                        |
| **Blitz Legend**             | ğŸŒ©ï¸   | Epic     | 400    | Achieve a 50-streak in Blitz mode                        |
| **Precision Under Pressure** | ğŸ¯   | Epic     | 350    | Maintain 90% accuracy over 100 Blitz answers             |
| **Speed Addict**             | ğŸƒ   | Uncommon | 100    | Complete 10 Blitz sessions                               |
| **Blitz Master**             | ğŸ‘‘   | Epic     | 400    | Complete 50 Blitz sessions                               |

### â±ï¸ Speed Achievements

Achievements for fast and efficient learning.

| Achievement             | Icon | Rarity   | Points | Requirement                                                         |
| ----------------------- | ---- | -------- | ------ | ------------------------------------------------------------------- |
| **Quick Draw**          | ğŸ¤    | Uncommon | 100    | Answer 10 questions correctly in under 30 seconds total             |
| **Speed Reader**        | ğŸ“–   | Rare     | 200    | Answer 25 questions correctly in under 60 seconds total             |
| **Instant Recognition** | ğŸ‘ï¸   | Rare     | 150    | Answer a question correctly in under 1 second                       |
| **Rapid Fire**          | ğŸ”«   | Epic     | 300    | Maintain an average response time under 2 seconds over 50 questions |
| **Efficient Learner**   | â±ï¸   | Rare     | 250    | Complete a training session in under 5 minutes with 90% accuracy    |

---

## Fun & Secret Achievements

### ğŸ‰ Fun Achievements

Fun and surprising achievements for delightful moments of discovery.

| Achievement                | Icon | Rarity    | Points | Requirement                                      | Hidden |
| -------------------------- | ---- | --------- | ------ | ------------------------------------------------ | ------ |
| **Learning from Mistakes** | ğŸ¤”   | Common    | 10     | Answer your first question wrong                 | No     |
| **Perseverance**           | ğŸ’ª   | Uncommon  | 50     | Get 5 wrong answers in a row                     | No     |
| **Night Owl**              | ğŸ¦‰   | Uncommon  | 75     | Train at midnight (00:00-01:00)                  | Yes    |
| **Early Bird**             | ğŸ¦   | Uncommon  | 75     | Train early morning (05:00-06:00)                | Yes    |
| **Answer to Everything**   | ğŸŒŒ   | Rare      | 142    | Achieve exactly 42 correct answers in a session  | Yes    |
| **Perfect Century**        | ğŸ’¯   | Rare      | 200    | Achieve exactly 100 correct answers in a session | Yes    |
| **Achievement Hunter**     | ğŸ¯   | Uncommon  | 100    | Unlock 10 achievements                           | No     |
| **Achievement Collector**  | ğŸ…   | Rare      | 250    | Unlock 25 achievements                           | No     |
| **Achievement Enthusiast** | ğŸ–ï¸   | Epic      | 500    | Unlock 50 achievements                           | No     |
| **Completionist**          | ğŸŒŸ   | Legendary | 2000   | Unlock all achievements                          | Yes    |

---

## ğŸ¨ Rarity System

Achievements are categorized by rarity levels:

| Rarity        | Color  | Description                 | Point Range |
| ------------- | ------ | --------------------------- | ----------- |
| **Common**    | Gray   | Basic milestones            | 10-75       |
| **Uncommon**  | Green  | Regular progress markers    | 50-200      |
| **Rare**      | Blue   | Significant accomplishments | 150-400     |
| **Epic**      | Purple | Major achievements          | 300-750     |
| **Legendary** | Gold   | Exceptional feats           | 500-3000    |

---

## ğŸ‰ Celebration System

- **Confetti Animations** - Full-screen celebrations with rarity-specific colors
- **Achievement Modals** - Beautiful modal displays with achievement details
- **Notification System** - Subtle in-app notifications for new achievements
- **Progress Tracking** - Visual progress bars for locked achievements

---

## ğŸ“Š Points & Leveling

- **Achievement Points** - Earned by unlocking achievements
- **Level System** - Level up every 500 points
- **Progress Tracking** - Track overall completion percentage
- **Total Available Points** - 30,000+ points across all achievements

---

## Technical Implementation

### Store Structure

The achievement system uses Zustand for state management with the following key components:

```typescript
interface AchievementState {
  unlockedAchievements: Record<string, Achievement>;
  notifications: AchievementNotification[];
  totalPoints: number;
  level: number;
  // ... methods
}
```

### Requirement Types

The system supports the following requirement types:

| Type                  | Description                               |
| --------------------- | ----------------------------------------- |
| `streak`              | Consecutive correct answers               |
| `total_correct`       | Total correct answers                     |
| `total_incorrect`     | Total incorrect answers                   |
| `sessions`            | Training sessions completed               |
| `accuracy`            | Accuracy percentage with minimum answers  |
| `content_correct`     | Correct answers for specific content type |
| `content_mastery`     | Mastery of specific content set           |
| `gauntlet_completion` | Gauntlet runs completed                   |
| `gauntlet_difficulty` | Gauntlet difficulty-specific completions  |
| `gauntlet_perfect`    | Perfect Gauntlet runs                     |
| `gauntlet_lives`      | Life-related Gauntlet achievements        |
| `blitz_session`       | Blitz sessions completed                  |
| `blitz_score`         | Blitz session scores                      |
| `speed`               | Time-based achievements                   |
| `variety`             | Exploration/variety achievements          |
| `days_trained`        | Unique training days                      |
| `time_of_day`         | Time-based (Night Owl, Early Bird)        |
| `wrong_streak`        | Consecutive wrong answers                 |
| `exact_count`         | Exact number achievements                 |
| `achievement_count`   | Meta achievements                         |
| `total_points`        | Point-based achievements                  |

### Integration Points

1. **Stats Integration** - Automatically checks for achievements when stats update
2. **Game Flow** - Triggers achievement checks after correct/incorrect answers
3. **Session Completion** - Checks achievements when training sessions end
4. **Persistent Storage** - Saves achievement progress locally

### Components

#### Core Components

- `AchievementModal` - Full-screen celebration modal
- `AchievementNotification` - In-app notification system
- `AchievementProgress` - Progress tracking page
- `AchievementBadge` - Navigation badge with notifications

#### Settings & Management

- `AchievementSettings` - Management interface in preferences
- Export/Import functionality for achievement data
- Reset options with confirmation

### Hooks

- `useAchievements` - Main hook for achievement integration
- `useAchievementTrigger` - Trigger achievement checks manually
- Integration with existing `useStats` hook

---

## Usage

### Adding New Achievements

1. Add achievement definition to `ACHIEVEMENTS` array in `store/useAchievementStore.ts`
2. Define achievement requirements and metadata
3. Achievements are automatically checked based on requirements

```typescript
{
  id: 'new_achievement',
  title: 'Achievement Title',
  description: 'Achievement description',
  icon: 'ğŸ¯',
  rarity: 'rare',
  points: 100,
  category: 'milestone',
  requirements: { type: 'total_correct', value: 1000 },
  hidden: false // Optional: set to true for secret achievements
}
```

### Triggering Achievement Checks

Achievement checks are automatically triggered:

- After correct/incorrect answers
- When sessions are saved
- When stats are updated

Manual triggering:

```typescript
const { triggerAchievementCheck } = useAchievementTrigger();
const newAchievements = triggerAchievementCheck();
```

### Displaying Achievement Status

```typescript
const { totalPoints, level, unlockedCount, hasUnseenNotifications } =
  useAchievements();
```

---

## File Structure

```
features/Achievements/
â”œâ”€â”€ store/
â”‚   â””â”€â”€ useAchievementStore.ts    # Main achievement store with 80+ achievements
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ global/                   # Global achievement components
â”‚   â””â”€â”€ progress/                 # Progress tracking components
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useAchievements.ts        # Achievement hooks
â””â”€â”€ __tests__/
    â”œâ”€â”€ mastery.property.test.ts
    â”œâ”€â”€ meta.property.test.ts
    â”œâ”€â”€ modeCompletion.property.test.ts
    â”œâ”€â”€ streak.property.test.ts
    â”œâ”€â”€ threshold.property.test.ts
    â”œâ”€â”€ timeBased.property.test.ts
    â””â”€â”€ variety.property.test.ts
```

---

## Best Practices

1. **Performance** - Achievement checks are debounced and optimized
2. **Persistence** - All progress is saved locally with backup/restore options
3. **Accessibility** - Proper ARIA labels and keyboard navigation
4. **Responsive Design** - Works across all device sizes
5. **Integration** - Seamlessly integrates with existing game flow

---

## Troubleshooting

### Common Issues

1. **Achievements not unlocking** - Check if stats are properly updating
2. **Notifications not showing** - Verify notification container is mounted
3. **Progress not saving** - Check localStorage permissions

### Debug Tools

- Achievement recalculation in settings
- Export/import for data backup
- Console logging for development

---

## Contributing

When adding new achievements:

1. Follow existing naming conventions
2. Use appropriate rarity levels
3. Test achievement triggers thoroughly
4. Update this documentation
5. Consider performance impact
6. Add property tests for new requirement types

The achievement system is designed to be extensible and maintainable, encouraging continued learning and engagement with the KanaDojo platform.
